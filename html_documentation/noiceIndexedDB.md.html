      <!DOCTYPE html>
      <html>
        <head>
            <meta charset="utf-8" />
            <title>noiceIndexedDB</title>
            <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(197, 200, 198); background-color: rgb(29, 31, 33); overflow: auto; }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(155, 160, 157); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(155, 160, 157); border-color: rgb(67, 72, 76); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(67, 72, 76); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(67, 72, 76); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(48, 51, 55); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(39, 41, 44); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(67, 72, 76) rgb(67, 72, 76) rgb(53, 57, 60); border-image: initial; background-color: rgb(48, 51, 55); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; overflow-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); overflow: scroll; }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(204, 204, 204); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(0, 0, 0, 0.04); border-radius: 3px; }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { overflow-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; overflow-wrap: normal; background-color: transparent; border: 0px; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; background-color: rgb(252, 252, 252); border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-image: initial; border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.markdown-preview pre.editor-colors { user-select: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item input[type="checkbox"] { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.markdown-preview .task-list-item { list-style-type: none; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}
.line-number.bracket-matcher.bracket-matcher {
  color: #c5c8c6;
  background-color: #373b41;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors {
  background-color: #1d1f21;
  color: #c5c8c6;
}
pre.editor-colors .wrap-guide {
  background-color: #4f5256;
}
pre.editor-colors .indent-guide {
  color: #4f5256;
}
pre.editor-colors .invisible-character {
  color: #4f5256;
}
pre.editor-colors .gutter {
  background-color: #1d1f21;
  color: #969896;
}
pre.editor-colors .gutter .line-number {
  padding: 0 0.25em 0 0.5em;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  background-color: #373b41;
  color: #c5c8c6;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  color: #c5c8c6;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #969896;
}
pre.editor-colors .invisible {
  color: #c5c8c6;
}
pre.editor-colors .cursor {
  color: #ffffff;
}
pre.editor-colors .selection .region {
  background-color: #373b41;
}
pre.editor-colors .bracket-matcher .region {
  border-color: #969896;
}
.syntax--comment {
  color: #969896;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #969896;
}
.syntax--entity.syntax--name.syntax--type {
  color: #f0c674;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #b5bd68;
}
.syntax--keyword {
  color: #b294bb;
}
.syntax--keyword.syntax--control {
  color: #b294bb;
}
.syntax--keyword.syntax--operator {
  color: #c5c8c6;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #81a2be;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #de935f;
}
.syntax--storage {
  color: #b294bb;
}
.syntax--constant {
  color: #de935f;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #8abeb7;
}
.syntax--constant.syntax--numeric {
  color: #de935f;
}
.syntax--constant.syntax--other.syntax--color {
  color: #8abeb7;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #8abeb7;
}
.syntax--variable {
  color: #cc6666;
}
.syntax--variable.syntax--interpolation {
  color: #a3685a;
}
.syntax--variable.syntax--parameter.syntax--function {
  color: #c5c8c6;
}
.syntax--invalid.syntax--illegal {
  background-color: #cc6666;
  color: #1d1f21;
}
.syntax--string {
  color: #b5bd68;
}
.syntax--string.syntax--regexp {
  color: #8abeb7;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #f0c674;
}
.syntax--string.syntax--other.syntax--link {
  color: #cc6666;
}
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #c5c8c6;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #81a2be;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #f0c674;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #b294bb;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #a3685a;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #c5c8c6;
}
.syntax--support.syntax--class {
  color: #f0c674;
}
.syntax--support.syntax--function {
  color: #8abeb7;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #81a2be;
}
.syntax--entity.syntax--name.syntax--function {
  color: #81a2be;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #f0c674;
}
.syntax--entity.syntax--name.syntax--section {
  color: #81a2be;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #cc6666;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #de935f;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #81a2be;
}
.syntax--meta.syntax--class {
  color: #f0c674;
}
.syntax--meta.syntax--class.syntax--body {
  color: #c5c8c6;
}
.syntax--meta.syntax--link {
  color: #de935f;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #c5c8c6;
}
.syntax--meta.syntax--require {
  color: #81a2be;
}
.syntax--meta.syntax--selector {
  color: #b294bb;
}
.syntax--meta.syntax--separator {
  background-color: #373b41;
  color: #c5c8c6;
}
.syntax--meta.syntax--tag {
  color: #c5c8c6;
}
.syntax--none {
  color: #c5c8c6;
}
.syntax--markup.syntax--bold {
  color: #de935f;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #b294bb;
}
.syntax--markup.syntax--deleted {
  color: #cc6666;
}
.syntax--markup.syntax--italic {
  color: #b294bb;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #cc6666;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #81a2be;
}
.syntax--markup.syntax--link {
  color: #81a2be;
}
.syntax--markup.syntax--inserted {
  color: #b5bd68;
}
.syntax--markup.syntax--quote {
  color: #de935f;
}
.syntax--markup.syntax--raw {
  color: #b5bd68;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #8abeb7;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #b294bb;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #cc6666;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #cc6666;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #b5bd68;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #8abeb7;
}
/*
   This defines styling rules for syntax classes.

   See the naming conventions for a list of syntax classes:
   https://flight-manual.atom.io/hacking-atom/sections/syntax-naming-conventions

   When styling rules conflict:
   - The last rule overrides previous rules.
   - The rule with most classes and pseudo-classes overrides the last rule.
*/
.syntax--keyword {
  color: #b294bb;
}
.syntax--keyword.syntax--storage {
  color: #b294bb;
}
.syntax--keyword.syntax--type {
  color: #f0c674;
}
.syntax--keyword.syntax--operator {
  color: #b294bb;
}
.syntax--keyword.syntax--function {
  color: #cc6666;
}
.syntax--keyword.syntax--variable {
  color: #cc6666;
}
.syntax--keyword.syntax--symbolic {
  color: #c5c8c6;
}
.syntax--entity {
  color: #c5c8c6;
}
.syntax--entity.syntax--support {
  color: #cc6666;
}
.syntax--entity.syntax--decorator:last-child {
  color: #81a2be;
}
.syntax--entity.syntax--label {
  text-decoration: underline;
}
.syntax--entity.syntax--function {
  color: #81a2be;
}
.syntax--entity.syntax--function.syntax--support {
  color: #8abeb7;
}
.syntax--entity.syntax--operator {
  color: #81a2be;
}
.syntax--entity.syntax--operator.syntax--symbolic {
  color: #c5c8c6;
}
.syntax--entity.syntax--type {
  color: #f0c674;
}
.syntax--entity.syntax--tag {
  color: #cc6666;
}
.syntax--entity.syntax--attribute {
  color: #de935f;
}
.syntax--punctuation {
  color: #c5c8c6;
}
.syntax--punctuation.syntax--embedded {
  color: #a3685a;
}
.syntax--string {
  color: #b5bd68;
}
.syntax--string.syntax--immutable {
  color: #b5bd68;
}
.syntax--string.syntax--part {
  color: #8abeb7;
}
.syntax--string.syntax--interpolation {
  color: #a3685a;
}
.syntax--string.syntax--regexp {
  color: #b5bd68;
}
.syntax--string.syntax--regexp.syntax--language {
  color: #b294bb;
}
.syntax--string.syntax--regexp.syntax--variable {
  color: #81a2be;
}
.syntax--string.syntax--regexp.syntax--punctuation {
  color: #a3685a;
}
.syntax--constant {
  color: #de935f;
}
.syntax--constant.syntax--character {
  color: #b5bd68;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #b5bd68;
}
.syntax--constant.syntax--character.syntax--code {
  color: #8abeb7;
}
.syntax--text {
  color: #c5c8c6;
}
.syntax--markup.syntax--heading {
  color: #cc6666;
}
.syntax--markup.syntax--list.syntax--punctuation {
  color: #cc6666;
}
.syntax--markup.syntax--bold {
  color: #de935f;
  font-weight: bold;
}
.syntax--markup.syntax--italic {
  color: #b294bb;
  font-style: italic;
}
.syntax--markup.syntax--raw {
  color: #b5bd68;
}
.syntax--markup.syntax--link {
  color: #81a2be;
}
.syntax--markup.syntax--alt {
  color: #8abeb7;
}
.syntax--markup.syntax--inserted {
  color: #b5bd68;
}
.syntax--markup.syntax--inserted .syntax--punctuation {
  color: #b5bd68;
}
.syntax--markup.syntax--inserted {
  color: #b5bd68;
}
.syntax--markup.syntax--inserted .syntax--punctuation {
  color: #b5bd68;
}
.syntax--markup.syntax--deleted {
  color: #cc6666;
}
.syntax--markup.syntax--deleted .syntax--punctuation {
  color: #cc6666;
}
.syntax--markup.syntax--changed {
  color: #b294bb;
}
.syntax--markup.syntax--changed .syntax--punctuation {
  color: #b294bb;
}
.syntax--markup.syntax--commented {
  color: #969896;
}
.syntax--markup.syntax--commented .syntax--punctuation {
  color: #969896;
}
.syntax--comment {
  color: #969896;
}
.syntax--comment.syntax--caption {
  color: #9ea09e;
  font-weight: bold;
}
.syntax--comment.syntax--term {
  color: #a8aaa8;
}
.syntax--comment.syntax--punctuation {
  color: #969896;
  font-weight: normal;
}
.syntax--invalid:not(.syntax--punctuation).syntax--illegal {
  background-color: #cc6666;
  color: #1d1f21;
}
.syntax--source.syntax--css .syntax--entity.syntax--function {
  color: #c5c8c6;
}
.syntax--source.syntax--css .syntax--entity.syntax--function.syntax--support {
  color: #8abeb7;
}
.syntax--source.syntax--css .syntax--entity.syntax--selector {
  color: #de935f;
}
.syntax--source.syntax--css .syntax--entity.syntax--selector.syntax--tag {
  color: #cc6666;
}
.syntax--source.syntax--css .syntax--entity.syntax--selector.syntax--id {
  color: #81a2be;
}
.syntax--source.syntax--css .syntax--entity.syntax--property {
  color: #c5c8c6;
}
.syntax--source.syntax--css .syntax--entity.syntax--variable {
  color: #cc6666;
}
.syntax--source.syntax--css .syntax--entity.syntax--keyframe {
  color: #cc6666;
}
.syntax--source.syntax--css .syntax--constant {
  color: #c5c8c6;
}
.syntax--source.syntax--css .syntax--constant.syntax--support {
  color: #de935f;
}
.syntax--source.syntax--css .syntax--constant.syntax--numeric {
  color: #de935f;
}
.syntax--source.syntax--css .syntax--constant.syntax--media {
  color: #de935f;
}
.syntax--source.syntax--css .syntax--constant.syntax--offset {
  color: #c5c8c6;
}
.syntax--source.syntax--css .syntax--constant.syntax--offset.syntax--unit {
  color: #c5c8c6;
}
.syntax--source.syntax--css .syntax--constant.syntax--color {
  color: #8abeb7;
}
.syntax--source.syntax--css .syntax--constant.syntax--color.syntax--support {
  color: #de935f;
}
.syntax--source.syntax--css .syntax--constant.syntax--attribute-value {
  color: #b5bd68;
}
.syntax--source.syntax--css .syntax--punctuation.syntax--selector {
  color: #de935f;
}
.syntax--source.syntax--css .syntax--punctuation.syntax--selector.syntax--wildcard {
  color: #cc6666;
}
.syntax--source.syntax--css .syntax--punctuation.syntax--selector.syntax--id {
  color: #81a2be;
}
.syntax--source.syntax--css .syntax--punctuation.syntax--selector.syntax--attribute {
  color: #c5c8c6;
}
</style>
        </head>
        <body class='markdown-preview' data-use-github-style><h1 id="noiceindexeddbjs">noiceIndexedDB.js</h1>
<p>an object model for interacting with the indexedDB API. There are two external resources that are well worth reading:</p>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API">MDN IndexedDB API Docs</a></p>
</li>
<li><p><a href="https://hacks.mozilla.org/2014/06/breaking-the-borders-of-indexeddb/">Breaking the Borders of IndexedDB</a></p>
</li>
</ul>
<h2 id="the-long-and-short-of-it">The long and short of it</h2>
<p>The <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexedDB</code> API provides access to many hundreds of MB of nonvolatile data storage, in the form of <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> objects, which are <em>somewhat</em> analogous to table objects within a traditional SQL relational database. However, <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexedDB</code> is <em>not</em> a relational database and does not use SQL.</p>
<p>Imagine a Table in an SQL database, except that every row can have wildly different data elements. Every row is actually an object with an arbitrary data structure (even nested data). This is an indexedDB <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code>. If you need to <em>search</em> for rows in the dataStore, then you need to define an <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">index</code> on it. So in this way, it's sort of like an SQL table where every row can have whatever, and you only have to define columns you want to search on.</p>
<p>That's the short story. There are <em>lots</em> of details when it comes to defining indexes, implementing complex search algorithms, etc. All of which you've got to do explicitly in your own code, which is very much the pain point compared to SQL. It's not so bad when you get a handle on it, and other than caches (which are fickle and can be dumped at any time by the user or the system), this is pretty much the only good way to stash a few hundred MB of data on disk for your PWA.</p>
<h2 id="requires">requires</h2>
<ul>
<li><strong>noiceCore.js</strong> (<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">noiceCoreUtility</code>)</li>
</ul>
<hr>
<h2 id="defining-an-indexeddb-schema">Defining an indexedDB schema</h2>
<p>In SQL you have <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">DDL</code> (Data Definition Language) operations that you use to define your tables and the  relational data structure. In <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexedDB</code>, you don't. Though you do need to define your <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> objects and the indexes on them, at the API level this is not done via a language, but by explicit code implementation. For reasons that will become obvious as you dig in, this is extraordinarily unhelpful. As a result, this library implements a quick and dirty version of DDL, in the form of a <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code> object of this form:</p>
<pre class="editor-colors lang-text.plain"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar">&lt;storeName&gt;: {</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>createOptions: {</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>keyPath: &lt;keyPath&gt;,</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>autoIncrement: &lt;bool&gt;</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>},</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>indexes: {</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>&lt;indexName&gt;: {</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">            </span>keyPath:    &lt;keyPath&gt;</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">            </span>unique:     &lt;bool&gt;</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">            </span>multiEntry: &lt;bool&gt; (note keyPath needs to be an array if true)</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>}</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>...</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>}</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar">},</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar">...</span></div></pre>
<ul>
<li><p>for <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code>, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/createObjectStore">createObjectStore() docs on MDN</a></p>
</li>
<li><p>for <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexes</code>, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/createIndex">createIndex() docs on MDN</a></p>
</li>
</ul>
<p>for clarity, here's a quick example of a <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code> object from the included <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">examplePWA</code>:</p>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block">/*</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>recipes</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>the static table of recipies from the server.</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>if changes are made by the user, they are queued in</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>the journal table, and we apply them in chronological</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>order to the record on view.</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block">*/</span></span></div><div class="line"><span class="syntax--source syntax--js">recipes<span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">createOptions</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'rowID'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexes</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">entryID</span><span class="syntax--keyword syntax--operator syntax--js">:</span>    <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'entryID'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--variable syntax--other syntax--object syntax--property">unique</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">author</span><span class="syntax--keyword syntax--operator syntax--js">:</span>     <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'author'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">category</span><span class="syntax--keyword syntax--operator syntax--js">:</span>   <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'category'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">title</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'title'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block">/*</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>journal</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>if the user creates a new recipe, or modifies an existing</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>one, the data is written here. For changes to existing</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>recipes, the 'rowId' is the 'entryID' value from the</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>recipes table. Create transactions generate a GUID</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>for the rowId, and subsequent changes to a created</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>row share the same rowId</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block">*/</span></span></div><div class="line"><span class="syntax--source syntax--js">journal<span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">createOptions</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'journalId'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--variable syntax--other syntax--object syntax--property">autoIncrement</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexes</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">rowId</span><span class="syntax--keyword syntax--operator syntax--js">:</span>          <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'rowId'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block">/*</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>menus</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>contains menu values by fieldID</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">    </span>objects of the form:</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">        </span>{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">            </span>fieldID:  &lt;int&gt;,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">            </span>values:   &lt;obj || array&gt;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">        </span>}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block">*/</span></span></div><div class="line"><span class="syntax--source syntax--js">menus<span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">createOptions</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span><span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'id'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--variable syntax--other syntax--object syntax--property">autoIncrement</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexes</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">fieldID</span><span class="syntax--keyword syntax--operator syntax--js">:</span>        <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span><span class="syntax--variable syntax--other syntax--object syntax--property">keypath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'fieldID'</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div></pre>
<h3 id="storedefinitions-versioning">storeDefinitions versioning</h3>
<p>Unlike an SQL database, <em>you cannot change data definitions on the fly</em>. For instance, if I needed to add an additional indexed field to the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">recipes</code> dataStore in the above example, I must <em>shutdown</em> the indexedDB instance, and re-mount it with the modified <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinition</code> to include the newly added index. This will invoke an <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">upgrade</code> event (which may take several minutes depending on the volume of data in the dataStore that was changed).</p>
<p>When you create a <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">noiceIndexedDB</code> object, you are creating an <em>interface to an indexedDB instance</em>, and also creating (or upgrading) that indexedDB instance. There are two attributes you must send to the constructor that identify that indexedDB instance:</p>
<ul>
<li><p><strong>dbName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the <em>name</em> of the indexedDB. This must be distinct within the domain on which you serve the code. For instance if I'm serving code from <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">hicox.com</code> that creates an indexedDB named <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">AmyDatabase</code>, this will be distinct in the browser from code loaded from say <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">godlovestrans.org</code> that also creates an indexedDB named <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">AmyDatabase</code>. Which is all to say <strong>name your databases carefully within the same domain</strong></p>
</li>
<li><p><strong>dbVersion</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">integer</code> -
  this is the <em>version</em> of the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinition</code> used to create the indexedDB instance. <strong>This number can never decrement</strong>, that will throw an error and you won't be able to mount the db.</p>
<p>  For instance, if I created <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">AmyDatabase</code> with version <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">1</code>, and subsequently I decided to add an index on say the 'genre' field, then I'd need to change the JSON on the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code> object, but I would <em>also</em> need to increment the value of <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dbVersion</code> to say <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">2</code>. Subsequently mounting the indexedDB would invoke the upgrade event. Once the indexedDB version has been changed, the old version cannot be mounted. There's a whole lot more detail in the MDN docs listed at the top. I highly recommend reading them. For now: just remember if you need to change the data structure you've got to increment <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dbVersion</code>, and you can never decrement it.</p>
</li>
</ul>
<hr>
<h2>constructor</h2>
<p>invoking the constructor creates a new <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">noiceIndexedDB</code> object, but does not create/mount the indexedDB instance (however, this does parse and validate storeDefinitions, etc)</p>
<h3 id="args">args</h3>
<ul>
<li><p><strong>dbName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> (see notes above)</p>
</li>
<li><p><strong>dbVersion</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">integer</code> (see notes above)</p>
</li>
<li><p><strong>storeDefinitions</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">object</code> (see notes above)</p>
</li>
</ul>
<h3 id="example">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> <span class="syntax--meta syntax--class">AmyDatabase</span> <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--operator syntax--new">new</span> <span class="syntax--meta syntax--class">noiceIndexedDB</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">dbName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>          <span class="syntax--string syntax--quoted">'AmyDatabase'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">dbVersion</span><span class="syntax--keyword syntax--operator syntax--js">:</span>       <span class="syntax--constant syntax--numeric">1</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeDefinitions</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">pets</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--variable syntax--other syntax--object syntax--property">createOptions</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'petID'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--variable syntax--other syntax--object syntax--property">autoIncrement</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexes</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">                </span><span class="syntax--variable syntax--other syntax--object syntax--property">name</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'name'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--variable syntax--other syntax--object syntax--property">unique</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">                </span><span class="syntax--variable syntax--other syntax--object syntax--property">species</span><span class="syntax--keyword syntax--operator syntax--js">:</span>   <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'species'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">                </span><span class="syntax--variable syntax--other syntax--object syntax--property">breed</span><span class="syntax--keyword syntax--operator syntax--js">:</span>     <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'breed'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-openargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async open({args})</code></h2>
<p>this mounts the indexedDB instance identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dbName</code>, <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dbVersion</code> and <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code> specified on the constructor. This will also invoke the upgrade event as described above if a version change is detected.</p>
<h3 id="args-1">args</h3>
<ul>
<li><p><strong>destructiveSetup</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">bool, default: false</code> - if this is set to a value of <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">true</code>, any <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> objects existing in the indexedDB but <em>not existing in the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code> object</em> are <strong>deleted</strong> when the indexedDB instance is mounted</p>
</li>
<li><p><strong>setupCallback</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">function(selfReference)</code> - if specified, we will call this function reference <em>if a version change is detected, requiring an upgrade event</em>, but before the upgrade is executed. NOTE: this is not implemented as an asynchronous callback, meaning we do not <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">await</code> the callback's return. This more of a notification for instance for driving a UI progress display, etc (though note to self: re-doing it as an <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">await</code>'d async function so you could for instance, backup data and such prior to an upgrade would be a neat enhancement)</p>
</li>
</ul>
<h3 id="output">output</h3>
<p>the function returns a promise that resolves to <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">this</code> when the indexedDB is finally mounted (after any upgrade event, etc exits). This allows chaining with the constructor, as in the following example:</p>
<h3 id="example-1">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> <span class="syntax--meta syntax--class">AmyDatabase</span> <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--control">await</span> <span class="syntax--keyword syntax--operator syntax--new">new</span> <span class="syntax--meta syntax--class">noiceIndexedDB</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">dbName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>          <span class="syntax--string syntax--quoted">'AmyDatabase'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">dbVersion</span><span class="syntax--keyword syntax--operator syntax--js">:</span>       <span class="syntax--constant syntax--numeric">1</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeDefinitions</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">pets</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--variable syntax--other syntax--object syntax--property">createOptions</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'petID'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--variable syntax--other syntax--object syntax--property">autoIncrement</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexes</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">                </span><span class="syntax--variable syntax--other syntax--object syntax--property">name</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'name'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--variable syntax--other syntax--object syntax--property">unique</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">                </span><span class="syntax--variable syntax--other syntax--object syntax--property">species</span><span class="syntax--keyword syntax--operator syntax--js">:</span>   <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'species'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">                </span><span class="syntax--variable syntax--other syntax--object syntax--property">breed</span><span class="syntax--keyword syntax--operator syntax--js">:</span>     <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--variable syntax--other syntax--object syntax--property">keyPath</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'breed'</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">open</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">destructiveSetup</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--constant syntax--language syntax--boolean syntax--true">true</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">setupCallback</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">selfReference</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--support syntax--variable syntax--dom">console</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">log</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`upgrading <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>selfReference<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--unquoted">dbName</span><span class="syntax--punctuation syntax--section syntax--embedded">}</span></span> to version <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>selfReference<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--unquoted">dbVersion</span><span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`indexedDB open failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-getdescriptionstorename"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async getDescription(storeName)</code></h2>
<p>this returns a promise resolving to an object describing the specified <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code>. If <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code> is not given, the returned promise will resolve to an array of objects describing all <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> object in the indexedDB instance. If <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code> is given but does not exist in the indexedDB instance, the promise resolves to an error, as it will if any other errors are encountered along the way.</p>
<h3 id="output-1">output</h3>
<pre class="editor-colors lang-text.plain"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar">[</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>{</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>name:           &lt;storeNameString&gt;,</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>keyPath:        &lt;keyPathString&gt;,</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>autoIncrement:  &lt;autoIncrementBool&gt;,</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>count:          &lt;numberOfRowsInteger&gt;,</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">        </span>indices:        [&lt;arrayOfIndexNames&gt;, ...]</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>},</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>...</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar">]</span></div></pre>
<p>NOTE: <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">keyPath</code> and <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">autoIncrement</code> correspond to the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code> object in the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code> entry corresponding to the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">name</code></p>
<hr>
<h1 id="crud-operations">CRUD Operations</h1>
<p>the remaining functions of this class relate specifically to Creating, Reading, Updating and Deleting (<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">CRUD</code>) rows in a specific <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> object. The most complicated bits of indexedDB are setting up dataStore objects, indexes, and complex queries. The CRUD operations, however, are fairly straightforward, with the exception that the API implements asynchronous operations via a cumbersome set of events and callbacks. As such, the remaining functions more or less mirror functions on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore">IDBObjectStore API</a>, wrapped in promises. So where this documentation doesn't make things clear it will be greatly helpful to check out the linked operations from the API in the HTML5 spec.</p>
<h2 id="async-addargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async add({args})</code></h2>
<p>This function inserts a new object row onto the datastore specified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code>, under the specified <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">key</code>. Key collisions throw errors. The function returns a promise resolving to a copy of the newly added object row upon success, and an error upon failure.</p>
<h3 id="api-documentation">API Documentation</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/add"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.add()</code> API docs on MDN</a></p>
<h3 id="args-2">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the name of the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> object in the indexedDB to add the new object row to</p>
</li>
<li><p><strong>object</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">object</code> - the object you wish to add to the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code>. If the object includes a value for the primary key (see <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code> on <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code>) you do not need to specify <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">key</code></p>
</li>
<li><p><strong>key</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string (optional)</code> - if <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">object</code> does not include a value for the primary key, and if <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">autoIncrement</code> is not specified in the dataStore's <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code>, you can specify a value for the primary key on this argument</p>
</li>
</ul>
<h3 id="example-2">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">add</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">object</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">name</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--string syntax--quoted">'Jazzy'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">species</span><span class="syntax--keyword syntax--operator syntax--js">:</span>   <span class="syntax--string syntax--quoted">'Cat'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">breed</span><span class="syntax--keyword syntax--operator syntax--js">:</span>     <span class="syntax--string syntax--quoted">'Calico'</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`add failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-putargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async put({args})</code></h2>
<p>This function is nearly identical to <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">add()</code> except that key collisions are ignored.</p>
<h3 id="api-documentation-1">API Documentation</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/put"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.put()</code> API docs on MDN</a></p>
<h3 id="args-3">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the name of the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> object in the indexedDB to add the new object row to</p>
</li>
<li><p><strong>object</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">object</code> - the object you wish to add to the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code>. If the object includes a value for the primary key (see <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code> on <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code>) you do not need to specify <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">key</code></p>
</li>
<li><p><strong>key</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string (optional)</code> - if <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">object</code> does not include a value for the primary key, and if <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">autoIncrement</code> is not specified in the dataStore's <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code>, you can specify a value for the primary key on this argument</p>
</li>
</ul>
<h3 id="example-3">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">put</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">object</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">name</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--string syntax--quoted">'Jazzy'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">species</span><span class="syntax--keyword syntax--operator syntax--js">:</span>   <span class="syntax--string syntax--quoted">'Cat'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--variable syntax--other syntax--object syntax--property">breed</span><span class="syntax--keyword syntax--operator syntax--js">:</span>     <span class="syntax--string syntax--quoted">'Calico'</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`put failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-bulkputargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async bulkPut({args})</code></h2>
<p>Do you need to pump mountains of data into a <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code>? This is your guy. This is <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">put()</code> with a hack -- specifically that hack is that, while inserting each row, we <em>don't await the exit event of the previous <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">put()</code></em>. Though errors are still caught if a row fails to be inserted, simply not awaiting the exit signal before executing the next saves massive amounts of time (by a <em>significantly huge factor</em>). If you've got a couple hundred thousand rows to insert, this is pretty much the only way to do it. Think of it like Oracle's 'Data Pump' ... pretty much the same thing, except ... you know ... different.</p>
<h3 id="args-4">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the name of the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">dataStore</code> object in the indexedDB to pump the data into</p>
</li>
<li><p><strong>objects</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">array</code> - an array of objects to pump into the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code></p>
</li>
</ul>
<h3 id="example-4">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">bulkPut</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">objects</span><span class="syntax--keyword syntax--operator syntax--js">:</span>    thisHugeArrayOfObjectsToImport</span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`bulkPut failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span></span></div></pre>
<h2 id="async-getargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async get({args})</code></h2>
<p>Gets a specific row object from the specified dataStore. If an index is specified, the key will be searched on that index, otherwise we will try to match the primary key (see <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code> in <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeDefinitions</code>). If the specified <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">key</code> is not found, the returned promise rejects (<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">messageNumber: 404</code>), otherwise it resolves to the requested object.</p>
<h3 id="api-documentation-2">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/get"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.get()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBIndex/get"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBIndex.get()</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-5">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - return the row matching <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">key</code> in this dataStore</p>
</li>
<li><p><strong>indexName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string, optional</code> - if specified, search for the row matching <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">key</code> on this index (if not specified, match the primary key)</p>
</li>
<li><p><strong>key</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - find the row matching this key value (either the primary key or one on the index specified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexName</code>)</p>
</li>
</ul>
<h3 id="example-5">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> data <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">get</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'name'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">key</span><span class="syntax--keyword syntax--operator syntax--js">:</span>        <span class="syntax--string syntax--quoted">'jazzy'</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span>error<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">hasOwnProperty</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted">'messageNumber'</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--keyword syntax--operator syntax--js">&amp;&amp;</span> <span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span>error<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--unquoted">messageNumber</span> <span class="syntax--keyword syntax--operator syntax--js">==</span> <span class="syntax--constant syntax--numeric">404</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`record not found`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--keyword syntax--control">else</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`get() failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-getkeyargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async getKey({args})</code></h2>
<p>I'm not entirely sure what this is intended for, but I'll betcha it's super useful when you want to use some advanced query techniques such as are described in <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">Breaking the Borders of IndexedDB</code> (link at the top). This appears in the API spec so I wrapped it in a promise for you <img height="20" alt="facepunch" title=":facepunch:" class="emoji"></p>
<p>Basically, it looks like it's main utility is for searching a given key range?</p>
<h3 id="api-documentation-3">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/getKey"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.getKey()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBIndex/getKey"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBIndex.getKey()</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-6">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the dataStore</p>
</li>
<li><p><strong>indexName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - if specified search this index, otherwise by primary key</p>
</li>
<li><p><strong>key</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string | IDBKeyRange</code> - what to look for</p>
</li>
</ul>
<h3 id="example-6">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line">// get all of the pet records made in the last 24 hours</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> records <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">getKey</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'createDate'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">key</span><span class="syntax--keyword syntax--operator syntax--js">:</span>        <span class="syntax--entity syntax--name syntax--function">IDBKeyRange</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--keyword syntax--operator syntax--js">-</span> <span class="syntax--constant syntax--numeric">86400</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`getKey failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-getallkeysargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async getAllKeys({args})</code></h2>
<p>this returns all of the keys for the keyPath on the dataStore matching the query, count and index options. NOTE: this returns only the <em>primary key</em> (see <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">createOptions</code> above), regardless of the value given for <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexName</code> (which controls the index used for the query but not the return value).</p>
<h3 id="api-documentation-4">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/getAllKeys"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.getAllKeys()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBIndex/getAllKeys"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBIndex.getAllKeys()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-7">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the dataStore</p>
</li>
<li><p><strong>indexName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - if specified execute <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">query</code> against this index, otherwise by primary key</p>
</li>
<li><p><strong>query</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> - a range of key values to search for (see 'IDBKeyRange on MDN' link above, this is the closest thing to SQL's <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">where</code> we've got, and it's not really that close at all)</p>
</li>
<li><p><strong>count</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">integer</code> - maximum number of results (if you want unlimited results, don't specify this arg)</p>
</li>
</ul>
<h3 id="example-7">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> primaryKeys <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">getAllKeys</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'createDate'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">count</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--constant syntax--numeric">10</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">query</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--entity syntax--name syntax--function">IDBKeyRange</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--keyword syntax--operator syntax--js">-</span> <span class="syntax--constant syntax--numeric">86400</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`getAllKeys failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-getallargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async getAll({args})</code></h2>
<p>This is as close to a <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">query()</code> function as we've got. It is <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">getAllKeys()</code>, except instead of returning the primary key of each matching row, we return instead the entire row object.</p>
<h3 id="api-documentation-5">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/getAll"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.getAll()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBIndex/getAll"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBIndex.getAll()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-8">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the dataStore</p>
</li>
<li><p><strong>indexName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - if specified execute <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">query</code> against this index, otherwise by primary key</p>
</li>
<li><p><strong>query</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> - a range of key values to search for (see 'IDBKeyRange on MDN' link above, this is the closest thing to SQL's <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">where</code> we've got, and it's not really that close at all)</p>
</li>
<li><p><strong>count</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">integer</code> - maximum number of results (if you want unlimited results, don't specify this arg)</p>
</li>
</ul>
<h3 id="example-8">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> matchingRows <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">getAll</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">indexName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'createDate'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">count</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--constant syntax--numeric">10</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">query</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--entity syntax--name syntax--function">IDBKeyRange</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--keyword syntax--operator syntax--js">-</span> <span class="syntax--constant syntax--numeric">86400</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`getAllKeys failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-clearargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async clear({args})</code></h2>
<p>this deletes all row objects from the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code></p>
<h3 id="api-documentation-6">API Documentation</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/clear"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.clear() on MDN</code></a></li>
</ul>
<h3 id="args-9">args</h3>
<ul>
<li><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the dataStore to delete all rows on</li>
</ul>
<h3 id="example-9">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">clear</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`clear() failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-countargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async count({args})</code></h2>
<p>this counts the number of row objects on the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeeName</code>, optionally matching the given <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">query</code> otherwise all.</p>
<h3 id="api-documentation-7">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/count"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.count()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBIndex/count"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBIndex.count()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-10">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the dataStore to query</p>
</li>
<li><p><strong>indexName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string (optional)</code> - if specified, execute <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">query</code> against this index, otherwise against primary key.</p>
</li>
<li><p><strong>query</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> - a range of key values to search for (see 'IDBKeyRange on MDN' link above)</p>
</li>
</ul>
<h3 id="example-10">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> rowCount <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">count</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span> <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">index</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--string syntax--quoted">'createDate'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">query</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--entity syntax--name syntax--function">IDBKeyRange</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--keyword syntax--operator syntax--js">-</span> <span class="syntax--constant syntax--numeric">86400</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">epochTimestamp</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`count failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span></span></div></pre>
<h2 id="async-opencursorargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async openCursor({args})</code></h2>
<p>opens a <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">cursor</code> on the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code>, traversing row objects optionally matching the specified <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">query</code> against the index identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">indexName</code>, otherwise all. The cursor executes the specified <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">callback</code> function for each row traversed by the cursor.</p>
<p>Also NOTE: the cursor callback itself is responsible for advancing the cursor one or more rows in the search result group,</p>
<p>This can blindly iterate all rows on a dataStore (analogous to an SQL table scan) astoundingly quickly. Using sort options on indexes, and clever logic for advancement of the cursor callback as described in 'Breaking the Borders of IndexedDB' article (link at the top) you can emulate surprisingly advanced analogs to many SQL query functions.</p>
<h3 id="api-documentation-8">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/openCursor"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.openCursor()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBIndex/openCursor"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBIndex.openCursor()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBCursorWithValue"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBCursorWithValue</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-11">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the name of the dataStore to open the cursor on</p>
</li>
<li><p><strong>indexName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - if specified use the given index, else primary key</p>
</li>
<li><p><strong>query</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange (opional)</code> - if not specified, all rows, otherwise, matching rows</p>
</li>
<li><p><strong>direction</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">enum(next, nextunique, prev, prevunique), default: next</code> - traverse the query result in this direction (see docs above for details)</p>
</li>
<li><p><strong>callback</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">function(cursor)</code> - execute this callback with the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">cursor</code> object (this is an <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBCursorWithValue</code> object, see doc links above)</p>
</li>
</ul>
<h3 id="example-11">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">openCursor</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">callback</span><span class="syntax--keyword syntax--operator syntax--js">:</span>   <span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">cursor</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--comment syntax--block">/*</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">            </span>do something for every row</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">            </span>how about print it to the console?</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">        </span>*/</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">isNotNull</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span>cursor<span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--support syntax--variable syntax--dom">console</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">log</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span>cursor<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--unquoted">value</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span>cursor<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">next</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--support syntax--variable syntax--dom">console</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">log</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`openCursor failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-openkeycursorargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async openKeyCursor({args})</code></h2>
<p>This is the exact same thing as <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">openCursor()</code> with the exception that the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">cursor</code> object is an <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBCursor</code> instead of an <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBCursorWithValue</code>, which means <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">cursor.key</code> has a value, and <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">cursor.value</code> is undefined. If you have unimaginably large datasets to traverse, or you're up to your eyeballs building optimized searches this is your guy.</p>
<h3 id="api-documentation-9">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/openCursor"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.openCursor()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBIndex/openCursor"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBIndex.openCursor()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBCursor"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBCursor</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-12">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the name of the dataStore to open the cursor on</p>
</li>
<li><p><strong>indexName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - if specified use the given index, else primary key</p>
</li>
<li><p><strong>query</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange (opional)</code> - if not specified, all rows, otherwise, matching rows</p>
</li>
<li><p><strong>direction</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">enum(next, nextunique, prev, prevunique), default: next</code> - traverse the query result in this direction (see docs above for details)</p>
</li>
<li><p><strong>callback</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">function(cursor)</code> - execute this callback with the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">cursor</code> object (this is an <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBCursor</code> object, see doc links above)</p>
</li>
</ul>
<h3 id="example-12">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">openKeyCursor</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">callback</span><span class="syntax--keyword syntax--operator syntax--js">:</span>   <span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">cursor</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--comment syntax--block">/*</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">            </span>do something for every row</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">            </span>how about print it's key to the console?</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--block"><span class="leading-whitespace">        </span>*/</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">isNotNull</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span>cursor<span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span><span class="syntax--support syntax--variable syntax--dom">console</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">log</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span>cursor<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--variable syntax--other syntax--object syntax--property syntax--unquoted">key</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">            </span>cursor<span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">next</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">        </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--support syntax--variable syntax--dom">console</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">log</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`openKeyCursor failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-deleteobjectargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async deleteObject({args})</code></h2>
<p>deletes the row object on the dataStore identified by <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">storeName</code>, matching the specified <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">key</code>.</p>
<h3 id="api-documentation-10">API Documentation</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/delete"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBObjectStore.delete()</code> on MDN</a></p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">IDBKeyRange</code> on MDN</a></p>
</li>
</ul>
<h3 id="args-13">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - name of the dataStore to delete the row from</p>
</li>
<li><p><strong>key</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string | IDBKeyRange</code> - delete the row(s) matching the specified primary key or IDBKeyRange</p>
</li>
</ul>
<h3 id="example-13">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">deleteObject</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">key</span><span class="syntax--keyword syntax--operator syntax--js">:</span>        <span class="syntax--string syntax--quoted">'4'</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre>
<h2 id="async-mergeobjectsargs"><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">async mergeObjects({args})</code></h2>
<p>This is a convenience function (not in the API), allowing you to send one or more objects to a datastore, and define behavior on key collisions. For instance you could send a batch of rows and on key collisions only write changed attributes to the row (or define a custom callback to handle the key collision).</p>
<h3 id="args-14">args</h3>
<ul>
<li><p><strong>storeName</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">string</code> - the name of the dataStore to write the row(s) to</p>
</li>
<li><p><strong>objects</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">array</code> - array of one or more objects to write to the dataStore</p>
</li>
<li><p><strong>merge</strong> <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">enum(update, overwrite, skip) | function</code> - this argument specifies the behavior on a key collision. If a function reference is given, it must be asynchronous and will be called with three arguments: <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">(selfReference, newObject, oldObject)</code> and must return an object (the returned object replaces the existing object in the dataStore). Other modes:</p>
<ul>
<li><p><strong>update</strong> - only write changed fields (blindly write new attributes, touch nothing else on the existing object)</p>
</li>
<li><p><strong>replace</strong> - replace entire object with new object (delete the old object, write the new one)</p>
</li>
<li><p><strong>skip</strong> - skip key collisions entirely (do nothing)</p>
</li>
</ul>
</li>
</ul>
<h3 id="output-2">output</h3>
<p>this returns a promise either rejecting in the case of an error or resolving to an array of objects of this form (indicating the disposition of each row in the <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">objects</code> argument):</p>
<pre class="editor-colors lang-text.plain"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar">[{</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>key:         &lt;key&gt;,</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>disposition: &lt;enum(created, updated, overwritten, skipped, error)&gt;,</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span class="leading-whitespace">    </span>errorObject: &lt;errorObject&gt; (if disposition = 'error')</span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar">}]</span></div></pre>
<h3 id="example-14">example</h3>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type">let</span> result <span class="syntax--keyword syntax--operator syntax--js">=</span> <span class="syntax--keyword syntax--control">await</span> <span class="syntax--meta syntax--class">AmyDatabase</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">mergeObjects</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">storeName</span><span class="syntax--keyword syntax--operator syntax--js">:</span>  <span class="syntax--string syntax--quoted">'pets'</span><span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">objects</span><span class="syntax--keyword syntax--operator syntax--js">:</span>    bigArrayOfPetObjects<span class="syntax--meta syntax--delimiter syntax--comma">,</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--variable syntax--other syntax--object syntax--property">merge</span><span class="syntax--keyword syntax--operator syntax--js">:</span>      <span class="syntax--string syntax--quoted">'update'</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--meta syntax--delimiter syntax--period">.</span><span class="syntax--entity syntax--name syntax--function">catch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--storage syntax--type syntax--function">function</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--variable syntax--parameter syntax--function">error</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly">{</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">throw</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--string syntax--quoted syntax--template">`mergeObjects failed: <span class="syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded">${</span>error<span class="syntax--punctuation syntax--section syntax--embedded">}</span></span>`</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly">}</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--semicolon">;</span></span></div></pre></body>
      </html>
